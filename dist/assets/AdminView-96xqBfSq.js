import{r as a,h as T,c as _,b as e,w as s,v as m,u as n,i as r,j as C,F as k,k as S,o as b,t as w}from"./index-DCsdrBg7.js";const F={class:"container mt-5 p-5"},I=e("h1",null,"Tags",-1),A={class:"mb-3"},O=e("label",{for:"exampleFormControlInput1",class:"form-label"},"Name",-1),j=e("h1",null,"Categories",-1),V={class:"mb-3"},P=e("label",{for:"exampleFormControlInput1",class:"form-label"},"Name",-1),U=e("h1",null,"Article",-1),E={class:"mb-3"},N=e("label",{for:"exampleFormControlInput1",class:"form-label"},"Title",-1),G={class:"mb-3"},B=e("label",{for:"exampleFormControlTextarea1",class:"form-label"},"Summary",-1),D={class:"mb-3"},J=e("label",{for:"exampleFormControlInput1",class:"form-label"},"Youtube",-1),M={class:"mb-3"},L=e("label",{for:"exampleFormControlInput1",class:"form-label"},"source",-1),R={class:"mb-3"},Y=e("label",{for:"exampleFormControlInput1",class:"form-label"},"Category",-1),q=["value"],K={__name:"AdminView",setup(z){let y=a([]),c=a(null),i=a(null),u=a(null),d=a(null),p=a(null),f=a(null),h=a(null);T(async()=>{const l=await fetch("https://community-app-india.onrender.com/api/category",{method:"GET",Allow:["GET","POST"],headers:{"Authentication-Token":localStorage.getItem("auth-token"),"Content-Type":"application/json"}}),o=await l.json();l.ok&&y.value.push(...o)});async function x(){const l=await fetch("https://community-app-india.onrender.com/api/article",{method:"POST",Allow:["GET","POST"],headers:{"Authentication-Token":localStorage.getItem("auth-token"),"Content-Type":"application/json"},body:JSON.stringify({title:u.value,summary:d.value,youtube:p.value,source:f.value,category_id:h.value})}),o=await l.json();l.ok&&alert(o.msg)}async function g(){if(y.value.filter(l=>l.name!=i.value)){const l=await fetch("https://community-app-india.onrender.com/api/category",{method:"POST",Allow:["GET","POST"],headers:{"Authentication-Token":localStorage.getItem("auth-token"),"Content-Type":"application/json"},body:JSON.stringify({name:i.value})}),o=await l.json();l.ok&&y.value.push(o)}else alert("exists category")}async function v(){const l=await fetch("https://community-app-india.onrender.com/create/tag",{method:"POST",Allow:["GET","POST"],headers:{"Authentication-Token":localStorage.getItem("auth-token"),"Content-Type":"application/json"},body:JSON.stringify({name:c.value})}),o=await l.json();l.ok&&alert(o.message)}return(l,o)=>(b(),_("div",F,[I,e("div",A,[O,s(e("input",{type:"text",class:"form-control",id:"exampleFormControlInput1",placeholder:"name@example.com","onUpdate:modelValue":o[0]||(o[0]=t=>r(c)?c.value=t:c=t)},null,512),[[m,n(c)]])]),e("button",{onClick:v,class:"mb-5"},"Add"),j,e("div",V,[P,s(e("input",{type:"text",class:"form-control",id:"exampleFormControlInput1",placeholder:"name@example.com","onUpdate:modelValue":o[1]||(o[1]=t=>r(i)?i.value=t:i=t)},null,512),[[m,n(i)]])]),e("button",{onClick:g,class:"mb-5"},"Add"),U,e("div",E,[N,s(e("input",{type:"text",class:"form-control",id:"exampleFormControlInput1",placeholder:"name@example.com","onUpdate:modelValue":o[2]||(o[2]=t=>r(u)?u.value=t:u=t)},null,512),[[m,n(u)]])]),e("div",G,[B,s(e("textarea",{class:"form-control",id:"exampleFormControlTextarea1",rows:"3","onUpdate:modelValue":o[3]||(o[3]=t=>r(d)?d.value=t:d=t)},null,512),[[m,n(d)]])]),e("div",D,[J,s(e("input",{type:"text",class:"form-control",id:"exampleFormControlInput1",placeholder:"name@example.com","onUpdate:modelValue":o[4]||(o[4]=t=>r(p)?p.value=t:p=t)},null,512),[[m,n(p)]])]),e("div",M,[L,s(e("input",{type:"text",class:"form-control",id:"exampleFormControlInput1",placeholder:"name@example.com","onUpdate:modelValue":o[5]||(o[5]=t=>r(f)?f.value=t:f=t)},null,512),[[m,n(f)]])]),e("div",R,[Y,s(e("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":o[6]||(o[6]=t=>r(h)?h.value=t:h=t)},[(b(!0),_(k,null,S(n(y),t=>(b(),_("option",{value:t.id},w(t.name),9,q))),256))],512),[[C,n(h)]])]),e("button",{onClick:x},"Add")]))}};export{K as default};
