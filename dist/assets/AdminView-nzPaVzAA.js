import{r as a,e as C,c as b,u as n,f as k,g as e,w as r,v as u,i,h as S,F as w,j as F,o as v,t as I}from"./index-Dm7DDaps.js";const A={class:"container mt-5 p-5"},O={key:0,class:"spinner-border",role:"status"},V=e("span",{class:"visually-hidden"},"Loading...",-1),j=[V],N=e("h1",null,"Tags",-1),P={class:"mb-3"},U=e("label",{for:"exampleFormControlInput1",class:"form-label"},"Name",-1),E=e("h1",null,"Categories",-1),G={class:"mb-3"},B=e("label",{for:"exampleFormControlInput1",class:"form-label"},"Name",-1),D=e("h1",null,"Article",-1),J={class:"mb-3"},M=e("label",{for:"exampleFormControlInput1",class:"form-label"},"Title",-1),L={class:"mb-3"},R=e("label",{for:"exampleFormControlTextarea1",class:"form-label"},"Summary",-1),Y={class:"mb-3"},q=e("label",{for:"exampleFormControlInput1",class:"form-label"},"Youtube",-1),z={class:"mb-3"},H=e("label",{for:"exampleFormControlInput1",class:"form-label"},"source",-1),K={class:"mb-3"},Q=e("label",{for:"exampleFormControlInput1",class:"form-label"},"Category",-1),W=["value"],$={__name:"AdminView",setup(X){let s=a(!0),y=a([]),d=a(null),m=a(null),c=a(null),p=a(null),f=a(null),h=a(null),_=a(null);C(async()=>{const l=await fetch("https://community-app-india.onrender.com/api/category",{method:"GET",Allow:["GET","POST"],headers:{"Authentication-Token":localStorage.getItem("auth-token"),"Content-Type":"application/json"}}),o=await l.json();l.ok&&y.value.push(...o)});async function x(){s.value=!1;const l=await fetch("https://community-app-india.onrender.com/api/article",{method:"POST",Allow:["GET","POST"],headers:{"Authentication-Token":localStorage.getItem("auth-token"),"Content-Type":"application/json"},body:JSON.stringify({title:c.value,summary:p.value,youtube:f.value,source:h.value,category_id:_.value})}),o=await l.json();l.ok&&(s.value=!0,alert(o.msg))}async function g(){if(s.value=!1,y.value.filter(l=>l.name!=m.value)){const l=await fetch("https://community-app-india.onrender.com/api/category",{method:"POST",Allow:["GET","POST"],headers:{"Authentication-Token":localStorage.getItem("auth-token"),"Content-Type":"application/json"},body:JSON.stringify({name:m.value})}),o=await l.json();l.ok&&(y.value.push(o),s.value=!0,alert("added"))}else alert("exists category")}async function T(){s.value=!1;const l=await fetch("https://community-app-india.onrender.com/create/tag",{method:"POST",Allow:["GET","POST"],headers:{"Authentication-Token":localStorage.getItem("auth-token"),"Content-Type":"application/json"},body:JSON.stringify({name:d.value})}),o=await l.json();l.ok&&(s.value=!0,alert(o.message))}return(l,o)=>(v(),b("div",A,[n(s)?k("",!0):(v(),b("div",O,j)),N,e("div",P,[U,r(e("input",{type:"text",class:"form-control",id:"exampleFormControlInput1",placeholder:"name@example.com","onUpdate:modelValue":o[0]||(o[0]=t=>i(d)?d.value=t:d=t)},null,512),[[u,n(d)]])]),e("button",{onClick:T,class:"mb-5"},"Add"),E,e("div",G,[B,r(e("input",{type:"text",class:"form-control",id:"exampleFormControlInput1",placeholder:"name@example.com","onUpdate:modelValue":o[1]||(o[1]=t=>i(m)?m.value=t:m=t)},null,512),[[u,n(m)]])]),e("button",{onClick:g,class:"mb-5"},"Add"),D,e("div",J,[M,r(e("input",{type:"text",class:"form-control",id:"exampleFormControlInput1",placeholder:"name@example.com","onUpdate:modelValue":o[2]||(o[2]=t=>i(c)?c.value=t:c=t)},null,512),[[u,n(c)]])]),e("div",L,[R,r(e("textarea",{class:"form-control",id:"exampleFormControlTextarea1",rows:"3","onUpdate:modelValue":o[3]||(o[3]=t=>i(p)?p.value=t:p=t)},null,512),[[u,n(p)]])]),e("div",Y,[q,r(e("input",{type:"text",class:"form-control",id:"exampleFormControlInput1",placeholder:"name@example.com","onUpdate:modelValue":o[4]||(o[4]=t=>i(f)?f.value=t:f=t)},null,512),[[u,n(f)]])]),e("div",z,[H,r(e("input",{type:"text",class:"form-control",id:"exampleFormControlInput1",placeholder:"name@example.com","onUpdate:modelValue":o[5]||(o[5]=t=>i(h)?h.value=t:h=t)},null,512),[[u,n(h)]])]),e("div",K,[Q,r(e("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":o[6]||(o[6]=t=>i(_)?_.value=t:_=t)},[(v(!0),b(w,null,F(n(y),t=>(v(),b("option",{value:t.id},I(t.name),9,W))),256))],512),[[S,n(_)]])]),e("button",{onClick:x},"Add")]))}};export{$ as default};
