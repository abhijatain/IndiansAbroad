import{r as o,c as u,u as r,a as g,b as t,t as y,n as _,w as m,v as p,d as b,e as h,f as w,o as f}from"./index-BjP1N_Rr.js";const v={class:"container",style:{"margin-top":"12vh"}},S={key:0,class:"text-center"},k=t("div",{class:"spinner-border",role:"status"},[t("span",{class:"visually-hidden"},"Loading...")],-1),x=[k],P={class:"p-4"},T=h('<button class="w-100 py-2 mb-2 btn btn-outline-secondary rounded-3" type="submit"><i class="fa-brands fa-twitter"></i> Sign in with Twitter </button><button class="w-100 py-2 mb-2 btn btn-outline-primary rounded-3" type="submit"><i class="fa-brands fa-facebook"></i> Sign in with Facebook </button><button class="w-100 py-2 mb-2 btn btn-outline-success rounded-3" type="submit"><i class="fa-brands fa-google"></i> Sign in with Google </button><hr class="my-4">',4),V={class:"form-floating mb-3"},C=t("label",{for:"floatingInput"},"Email address",-1),I={class:"form-floating mb-3"},N=t("label",{for:"floatingPassword"},"Password",-1),O=t("small",{class:"text-body-secondary"},"Click here to join our community.",-1),E={__name:"LoginView",setup(j){const s=o({email:null,password:null});let d=o(""),c=o(!0),a=o(!1);async function n(){a.value=!0;const l=await fetch("https://community-app-india.onrender.com/user_login",{method:"POST",mode:"cors",Allow:["GET","POST","OPTIONS"],headers:{"Content-type":"application/json"},body:JSON.stringify(s.value)});if(l.ok){a.value=!1;const e=await l.json();e.state==0?(localStorage.setItem("auth-token",e.token),localStorage.setItem("role",e.role),w.go(-1)):(c=!1,d=e.msg)}}return(l,e)=>(f(),u("div",v,[r(a)?(f(),u("div",S,x)):g("",!0),t("p",{class:_({"text-danger":!r(c)})},y(r(d)),3),t("div",P,[T,t("div",V,[m(t("input",{type:"email",class:"form-control rounded-3",id:"floatingInput",placeholder:"name@example.com","onUpdate:modelValue":e[0]||(e[0]=i=>s.value.email=i)},null,512),[[p,s.value.email]]),C]),t("div",I,[m(t("input",{type:"password",class:"form-control rounded-3",id:"floatingPassword",placeholder:"Password","onUpdate:modelValue":e[1]||(e[1]=i=>s.value.password=i),onKeyup:b(n,["enter"])},null,544),[[p,s.value.password]]),N]),t("button",{class:"w-100 mb-2 btn btn-lg rounded-3 btn-primary",onClick:n,onKeyup:b(n,["enter"])},"Sign in",32),O])]))}};export{E as default};
