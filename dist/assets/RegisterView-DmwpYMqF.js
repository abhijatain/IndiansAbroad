import{j as h,r as i,c as g,u as a,a as w,b as e,t as c,n as k,w as m,v as p,e as x,g as S,o as v}from"./index-BMJxV8iT.js";const P={class:"container",style:{"margin-top":"12vh"}},V={key:0,class:"text-center"},U=e("div",{class:"spinner-border",role:"status"},[e("span",{class:"visually-hidden"},"Loading...")],-1),B=[U],C={class:"p-4"},E=S('<button class="w-100 py-2 mb-2 btn btn-outline-secondary rounded-3" type="submit"><i class="fa-brands fa-twitter"></i> Sign up with Twitter </button><button class="w-100 py-2 mb-2 btn btn-outline-primary rounded-3" type="submit"><i class="fa-brands fa-facebook"></i> Sign up with Facebook </button><button class="w-100 py-2 mb-2 btn btn-outline-success rounded-3" type="submit"><i class="fa-brands fa-google"></i> Sign up with Google </button><hr class="my-4">',4),N={class:"form-floating mb-3"},j=e("label",{for:"floatingInput"},"Username",-1),z={class:"form-floating mb-3"},A=e("label",{for:"floatingInput"},"Email address",-1),I={class:"form-floating mb-3"},L=e("label",{for:"floatingPassword"},"Password",-1),T=e("small",{class:"text-body-secondary"},"By clicking Sign up, you agree to the terms of use.",-1),J={__name:"RegisterView",setup(D){const{coords:f,locatedAt:F,error:G,resume:K,pause:O}=h(),t=i({email:null,password:null,username:null});let u=i(""),o=i(!0),l=i(!1),d=i(!1);async function b(){if(!y())l.value=!0,o.value=!1,u.value="Wrong Email Format";else if(!_())l.value=!0,o.value=!1,u.value="Password length must be 8 or more";else{d.value=!0;const n=await fetch("https://community-app-india.onrender.com/register",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(t.value)}),s=await n.json();n.ok&&(d.value=!1),s.state==0?(l.value=!0,o.value=!1):(l=!1,o=!0),u.value=s.msg}}function y(){var n=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return n.test(t.value.email)}function _(){return t.value.password.length>7}return(n,s)=>(v(),g("div",P,[a(d)?(v(),g("div",V,B)):w("",!0),e("p",{class:k({"text-danger":a(l),"text-success":a(o)})},c(a(u)),3),e("form",C,[E,e("div",null," Latitude: "+c(a(f).latitude)+" Longitude: "+c(a(f).longitude),1),e("div",N,[m(e("input",{type:"text",class:"form-control rounded-3",id:"floatingUsername",placeholder:"username","onUpdate:modelValue":s[0]||(s[0]=r=>t.value.username=r)},null,512),[[p,t.value.username]]),j]),e("div",z,[m(e("input",{type:"email",class:"form-control rounded-3",id:"floatingInput",placeholder:"name@example.com","onUpdate:modelValue":s[1]||(s[1]=r=>t.value.email=r)},null,512),[[p,t.value.email]]),A]),e("div",I,[m(e("input",{type:"password",class:"form-control rounded-3",id:"floatingPassword",placeholder:"Password","onUpdate:modelValue":s[2]||(s[2]=r=>t.value.password=r)},null,512),[[p,t.value.password]]),L]),e("button",{class:"w-100 mb-2 btn btn-lg rounded-3 btn-primary",onClick:b,onKeyup:x(b,["enter"])},"Sign up",32),T])]))}};export{J as default};
