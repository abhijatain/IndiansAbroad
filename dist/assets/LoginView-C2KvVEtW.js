import{r as a,c as m,u as d,a as y,b as e,t as w,n as v,d as u,w as p,v as f,e as g,f as _,o as b}from"./index-FTNWRuW6.js";const k={class:"container",style:{"margin-top":"12vh"}},S={key:0,class:"text-center"},T=e("div",{class:"spinner-border",role:"status"},[e("span",{class:"visually-hidden"},"Loading...")],-1),x=[T],P={class:"p-4"},C=e("button",{class:"w-100 py-2 mb-2 btn btn-outline-secondary rounded-3",type:"submit"},[e("i",{class:"fa-brands fa-twitter"}),u(" Sign in with Twitter ")],-1),I=e("button",{class:"w-100 py-2 mb-2 btn btn-outline-primary rounded-3",type:"submit"},[e("i",{class:"fa-brands fa-facebook"}),u(" Sign in with Facebook ")],-1),O=e("i",{class:"fa-brands fa-google"},null,-1),V=e("hr",{class:"my-4"},null,-1),j={class:"form-floating mb-3"},E=e("label",{for:"floatingInput"},"Email address",-1),N={class:"form-floating mb-3"},G=e("label",{for:"floatingPassword"},"Password",-1),B=e("small",{class:"text-body-secondary"},"Click here to join our community.",-1),D={__name:"LoginView",setup(K){const s=a({email:null,password:null});let n=a(""),l=a(!0),i=a(!1);async function r(){i.value=!0;const o=await fetch("https://community-app-india.onrender.com/user_login",{method:"POST",mode:"cors",Allow:["GET","POST","OPTIONS"],headers:{"Content-type":"application/json"},body:JSON.stringify(s.value)});if(o.ok){i.value=!1;const t=await o.json();t.state==0?(localStorage.setItem("auth-token",t.token),localStorage.setItem("role",t.role),_.go(-1)):(l=!1,n=t.msg)}}async function h(){const o=await fetch("https://community-app-india.onrender.com/google/login",{method:"GET",Allow:["GET","POST"],headers:{"Content-type":"application/json"}});if(o.ok){const t=await o.json();t.state==0?(localStorage.setItem("auth-token",t.token),localStorage.setItem("role",t.role),_.go(-1)):(l=!1,n=t.msg)}}return(o,t)=>(b(),m("div",k,[d(i)?(b(),m("div",S,x)):y("",!0),e("p",{class:v({"text-danger":!d(l)})},w(d(n)),3),e("div",P,[C,I,e("button",{class:"w-100 py-2 mb-2 btn btn-outline-success rounded-3",type:"submit",onClick:h},[O,u(" Sign in with Google ")]),V,e("div",j,[p(e("input",{type:"email",class:"form-control rounded-3",id:"floatingInput",placeholder:"name@example.com","onUpdate:modelValue":t[0]||(t[0]=c=>s.value.email=c)},null,512),[[f,s.value.email]]),E]),e("div",N,[p(e("input",{type:"password",class:"form-control rounded-3",id:"floatingPassword",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=c=>s.value.password=c),onKeyup:g(r,["enter"])},null,544),[[f,s.value.password]]),G]),e("button",{class:"w-100 mb-2 btn btn-lg rounded-3 btn-primary",onClick:r,onKeyup:g(r,["enter"])},"Sign in",32),B])]))}};export{D as default};
