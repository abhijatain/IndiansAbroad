import{r as a,f as v,c as _,a as e,w as r,v as f,u as n,i,g,F as T,h as C,o as y,t as k}from"./index-C-FhFq0l.js";const w={class:"mt-5 p-2"},F=e("h1",null,"Categories",-1),S={class:"mb-3"},I=e("label",{for:"exampleFormControlInput1",class:"form-label"},"Name",-1),A=e("h1",null,"Article",-1),V={class:"mb-3"},O=e("label",{for:"exampleFormControlInput1",class:"form-label"},"Title",-1),j={class:"mb-3"},U=e("label",{for:"exampleFormControlTextarea1",class:"form-label"},"Summary",-1),E={class:"mb-3"},P=e("label",{for:"exampleFormControlInput1",class:"form-label"},"Youtube",-1),G={class:"mb-3"},N=e("label",{for:"exampleFormControlInput1",class:"form-label"},"source",-1),B={class:"mb-3"},D=e("label",{for:"exampleFormControlInput1",class:"form-label"},"Category",-1),M=["value"],R={__name:"AdminView",setup(J){let h=a([]),s=a(null),m=a(null),u=a(null),c=a(null),d=a(null),p=a(null);v(async()=>{const l=await fetch("https://community-app-india.onrender.com/api/category",{method:"GET",Allow:["GET","POST"],headers:{"Authentication-Token":localStorage.getItem("auth-token"),"Content-Type":"application/json"}}),o=await l.json();l.ok&&h.value.push(...o)});async function x(){const l=await fetch("https://community-app-india.onrender.com/api/article",{method:"POST",Allow:["GET","POST"],headers:{"Authentication-Token":localStorage.getItem("auth-token"),"Content-Type":"application/json"},body:JSON.stringify({title:m.value,summary:u.value,youtube:c.value,source:d.value,category_id:p.value})}),o=await l.json();l.ok&&alert(o.msg)}async function b(){if(h.value.filter(l=>l.name!=s.value)){const l=await fetch("https://community-app-india.onrender.com/api/category",{method:"POST",Allow:["GET","POST"],headers:{"Authentication-Token":localStorage.getItem("auth-token"),"Content-Type":"application/json"},body:JSON.stringify({name:s.value})}),o=await l.json();l.ok&&h.value.push(o)}else alert("exists category")}return(l,o)=>(y(),_("div",w,[F,e("div",S,[I,r(e("input",{type:"text",class:"form-control",id:"exampleFormControlInput1",placeholder:"name@example.com","onUpdate:modelValue":o[0]||(o[0]=t=>i(s)?s.value=t:s=t)},null,512),[[f,n(s)]])]),e("button",{onClick:b},"Add"),A,e("div",V,[O,r(e("input",{type:"text",class:"form-control",id:"exampleFormControlInput1",placeholder:"name@example.com","onUpdate:modelValue":o[1]||(o[1]=t=>i(m)?m.value=t:m=t)},null,512),[[f,n(m)]])]),e("div",j,[U,r(e("textarea",{class:"form-control",id:"exampleFormControlTextarea1",rows:"3","onUpdate:modelValue":o[2]||(o[2]=t=>i(u)?u.value=t:u=t)},null,512),[[f,n(u)]])]),e("div",E,[P,r(e("input",{type:"text",class:"form-control",id:"exampleFormControlInput1",placeholder:"name@example.com","onUpdate:modelValue":o[3]||(o[3]=t=>i(c)?c.value=t:c=t)},null,512),[[f,n(c)]])]),e("div",G,[N,r(e("input",{type:"text",class:"form-control",id:"exampleFormControlInput1",placeholder:"name@example.com","onUpdate:modelValue":o[4]||(o[4]=t=>i(d)?d.value=t:d=t)},null,512),[[f,n(d)]])]),e("div",B,[D,r(e("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":o[5]||(o[5]=t=>i(p)?p.value=t:p=t)},[(y(!0),_(T,null,C(n(h),t=>(y(),_("option",{value:t.id},k(t.name),9,M))),256))],512),[[g,n(p)]])]),e("button",{onClick:x},"Add")]))}};export{R as default};
